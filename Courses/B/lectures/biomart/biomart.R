###################################################
### chunk number 1: 
###################################################
options(width=40)


###################################################
### chunk number 2:  eval=FALSE
###################################################
## source("http://bioconductor.org/biocLite.R")
## biocLite(c("biomaRt", "GEOquery", "ArrayExpress"))
## biocLite(c("annotate", "KEGG.db", "KEGGSOAP"))


###################################################
### chunk number 3: 
###################################################
options(width=80)


###################################################
### chunk number 4: 
###################################################
library(biomaRt)
head(listMarts())


###################################################
### chunk number 5: 
###################################################
options(width=40)


###################################################
### chunk number 6: 
###################################################
mart <- useMart("bacterial_mart_54")
head(listDatasets(mart))


###################################################
### chunk number 7: 
###################################################
bsub <- useDataset("bac_6_gene", mart = mart)
bsub <- useMart("bacterial_mart_54", dataset = "bac_6_gene")
head(listFilters(bsub))


###################################################
### chunk number 8: 
###################################################
head(listAttributes(bsub))


###################################################
### chunk number 9: 
###################################################
res <- getBM(attributes=c("start_position", "end_position", "strand", "status"), filters= c("start", "end"), values = list("1", "100000"), mart = bsub)
head(res)


###################################################
### chunk number 10: 
###################################################
library(lattice)
print(xyplot(end_position~start_position | status, group=strand, data=res, auto.key=T))


###################################################
### chunk number 11: 
###################################################
library(GEOquery)


###################################################
### chunk number 12:  eval=FALSE
###################################################
## ?getGEO


###################################################
### chunk number 13: 
###################################################
info <- getGEO("GSM377792")


###################################################
### chunk number 14:  eval=FALSE
###################################################
## attributes(info)


###################################################
### chunk number 15: 
###################################################
library(ArrayExpress)
sets = queryAE(keywords = "pneumonia", species = "homo+sapiens")


###################################################
### chunk number 16:  eval=FALSE
###################################################
## rawset = ArrayExpress("E-MEXP-1422")


###################################################
### chunk number 17:  eval=FALSE
###################################################
## mexp1422 = getAE("E-MEXP-1422", type = "full")


###################################################
### chunk number 18:  eval=FALSE
###################################################
## rawset= magetab2bioc(files = mexp1422)


###################################################
### chunk number 19: 
###################################################
library(annotate)


###################################################
### chunk number 20:  eval=FALSE
###################################################
## seq <- getSEQ("CY045495.1")


###################################################
### chunk number 21: 
###################################################
id <- accessionToUID("CY045495.1")
id
getQueryLink(id, repository = "gb")


###################################################
### chunk number 22: 
###################################################
ids <- (sets[,"PubmedID"])
ids <- as.character(ids[ids != "NA"])
x <- pubmed("19679224")
a <- xmlRoot(x)
abs <- buildPubMedAbst(a[[1]])


###################################################
### chunk number 23: 
###################################################
pubDate(abs)


###################################################
### chunk number 24: 
###################################################
library(KEGG.db)
library(KEGGSOAP)
apropos("KEGG")


###################################################
### chunk number 25: 
###################################################
KEGGPATHID2NAME$"00010" #$


###################################################
### chunk number 26: 
###################################################
genes <- get.genes.by.pathway("path:eco00010")


###################################################
### chunk number 27:  eval=FALSE
###################################################
## help(package = KEGGSOAP)
## help(package=KEGG.db)


###################################################
### chunk number 28: 
###################################################
sessionInfo()


